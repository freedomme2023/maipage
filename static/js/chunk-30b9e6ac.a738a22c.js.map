{"version":3,"sources":["webpack:///./src/components/WalletContract.vue","webpack:///./src/components/WalletContract.vue?c199","webpack:///./src/views/withdraw/index.vue?6c3e","webpack:///./src/views/withdraw/index.vue?8961","webpack:///./src/views/withdraw/index.vue","webpack:///./src/views/withdraw/index.vue?50b2"],"names":["class","address","substring","initWallet","$t","setup","store","data","state","accounts","web3","provider","balance","initWeb3","getBalance","USDQContract","eth","Contract","config","USDQAddress","methods","balanceOf","call","result","dividedBy","toFixed","val","refData","__exports__","render","$router","push","type","replace","name","value","LPInfo","balances","readonly","suffix","placeholder","amount","amounts","step","getSlider","marks","show-stops","remainAmount","block","round","go","disabled","loading","toWithdraw","components","WalletContract","t","route","BigNumber","params","tokenAddress","token","LPStakeContract","tokenContract","0","25","50","75","100","gt","gte","minus","initContract","LPStake","initData","getInfo","decimals","tokenDecimals","userInfo","Math","pow","console","log","lte","error","multipliedBy","withdraw","estimateGas","from","then","gas","send","catch","err"],"mappings":"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","file":"static/js/chunk-30b9e6ac.a738a22c.js","sourcesContent":["<template>\r\n  <div class=\"header-between flex-item flex-end\">\r\n    <!-- <div class=\"coin-box\" v-if=\"address\">{{balance || '--'}}USDT</div> -->\r\n    <div class=\"wallet-box ml\" v-if=\"address\">\r\n      {{\r\n        address.substring(0, 6) +\r\n          \"...\" +\r\n          address.substring(address.length - 4, address.length)\r\n      }}\r\n    </div>\r\n    <div class=\"wallet-box ml btn text-ellipsis\" v-else @click=\"initWallet\">\r\n      {{ $t(\"鏈接錢包\") }}\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { reactive, toRefs, computed, watch } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport web3Data from \"@/utils/initWeb3\";\r\nimport tokenAbi from \"@/utils/abi\";\r\nimport { config } from \"@/utils/config\";\r\nimport BigNumber from \"bignumber.js\";\r\nexport default {\r\n  setup() {\r\n    const store = useStore();\r\n    const data = reactive({\r\n      address: computed(() => store.state.accounts[0]),\r\n      web3: computed(() => store.state.provider),\r\n      balance: \"\",\r\n      initWallet: () => {\r\n        if (!data.address) {\r\n          web3Data.initWeb3();\r\n        }\r\n      },\r\n      getBalance: async () => {\r\n        let USDQContract = new data.web3.eth.Contract(\r\n          tokenAbi,\r\n          config.USDQAddress\r\n        );\r\n        let result = await USDQContract.methods.balanceOf(data.address).call();\r\n        data.balance = new BigNumber(result).dividedBy(10 ** 18).toFixed(2, 1);\r\n      }\r\n    });\r\n    if (data.address) {\r\n      data.getBalance();\r\n    }\r\n    watch(\r\n      () => data.address,\r\n      val => {\r\n        if (val) {\r\n          data.getBalance();\r\n        }\r\n      }\r\n    );\r\n    const refData = toRefs(data);\r\n    return {\r\n      ...refData\r\n    };\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./WalletContract.vue?vue&type=template&id=538e60f7\"\nimport script from \"./WalletContract.vue?vue&type=script&lang=js\"\nexport * from \"./WalletContract.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\contract\\\\vue\\\\mafaai\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=1&id=72e1efb0&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=72e1efb0&lang=scss\"","<template>\r\n  <div class=\"topbg-wrapper\">\r\n    <div class=\"top-bg\">\r\n      <div class=\"common-page--menu\">\r\n        <div class=\"link link-white\" @click=\"$router.push({ name: 'Index' })\">\r\n          {{$t(\"首頁\")}}&nbsp;>&nbsp;\r\n        </div>\r\n        <div class=\"link link-white\" @click=\"$router.replace({ name: 'MiningLp', query: { type: '1' } })\" v-if=\"type == 1\">\r\n          {{ $t(\"LP挖礦\") }}&nbsp;>&nbsp;\r\n        </div>\r\n        <div class=\"link link-white\" @click=\"$router.replace({ name: 'MiningLp', query: { type: '2' } })\" v-else>\r\n          {{ $t(\"單幣挖礦\") }}&nbsp;>&nbsp;\r\n        </div>\r\n        <div class=\"link\">{{$t(\"贖回\")}}</div>\r\n      </div>\r\n      <div class=\"top-header flex-middle\">\r\n        <div class=\"header-between flex-item\"></div>\r\n        <div class=\"header-center\">\r\n          {{ $t(\"贖回\") }} {{ type === \"1\" ? `${name} LP` : name }}\r\n        </div>\r\n        <wallet-contract></wallet-contract>\r\n      </div>\r\n    </div>\r\n    <!-- LP -->\r\n    <el-form class=\"from-box\">\r\n      <div class=\"input-suffix flex-between\">\r\n        <span class=\"input-label\">{{ $t(\"質押中數量：\") }}</span>\r\n        <el-input class=\"flex\" :value=\"LPInfo.balances || '--'\" readonly>\r\n          <template #suffix>\r\n            <span class=\"suffix-span\">{{ type === \"1\" ? \"LP\" : name }}</span>\r\n          </template>\r\n        </el-input>\r\n      </div>\r\n      <div class=\"input-suffix flex-between nocenter\" v-if=\"type === '2'\">\r\n        <span class=\"input-label\">{{ $t(\"解押數量：\") }}</span>\r\n        <div class=\"flexs\">\r\n          <el-input\r\n            :placeholder=\"$t('請輸入解押數量')\"\r\n            class=\"flex\"\r\n            v-model=\"amount\"\r\n            type=\"number\"\r\n          >\r\n            <template #suffix>\r\n              <span class=\"suffix-span\">{{ type === \"1\" ? \"LP\" : name }}</span>\r\n            </template>\r\n          </el-input>\r\n        </div>\r\n      </div>\r\n      <div class=\"input-suffix flex-between nocenter\" v-else>\r\n        <span class=\"input-label\">{{ $t(\"解押比例：\") }}</span>\r\n        <div class=\"flexs\">\r\n          <el-input\r\n            :placeholder=\"$t('請選擇解押比例')\"\r\n            class=\"flex\"\r\n            v-model=\"amounts\"\r\n            type=\"number\"\r\n            readonly\r\n          >\r\n            <template #suffix>\r\n              <span class=\"suffix-span\">%</span>\r\n            </template>\r\n          </el-input>\r\n          <div class=\"sliders\">\r\n            <el-slider\r\n              v-model=\"amounts\"\r\n              :step=\"25\"\r\n              @change=\"getSlider(val)\"\r\n              :marks=\"marks\"\r\n              show-stops\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"input-suffix flex-between\">\r\n        <span class=\"input-label\">{{ $t(\"剩餘數量：\") }}</span>\r\n        <el-input class=\"flex\" :value=\"remainAmount\" readonly>\r\n          <template #suffix>\r\n            <span class=\"suffix-span\">{{ type === \"1\" ? \"LP\" : name }}</span>\r\n          </template>\r\n        </el-input>\r\n      </div>\r\n\r\n      <div class=\"form-btn\">\r\n        <!-- <el-button\r\n          v-if=\"!address\"\r\n          type=\"primary\"\r\n          block\r\n          round\r\n          @click=\"initWallet\"\r\n          >鏈接錢包</el-button\r\n        > -->\r\n        <!-- v-else -->\r\n        <div class=\"flex\">\r\n          <el-button\r\n            type=\"primary\"\r\n            block\r\n            round\r\n            class=\"close\"\r\n            @click=\"$router.go(-1)\"\r\n            >{{ $t(\"返回\") }}</el-button\r\n          >\r\n          <el-button\r\n            type=\"primary\"\r\n            block\r\n            round\r\n            :disabled=\"loading\"\r\n            :loading=\"loading\"\r\n            @click=\"toWithdraw\"\r\n            >{{ $t(\"贖回\") }}</el-button\r\n          >\r\n        </div>\r\n      </div>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRefs, computed, watch } from \"vue\";\r\nimport WalletContract from \"@/components/WalletContract\";\r\nimport { useRoute } from \"vue-router\";\r\nimport { useStore } from \"vuex\";\r\nimport LPStake from \"@/utils/LPStake\";\r\nimport { config } from \"@/utils/config\";\r\nimport BigNumber from \"bignumber.js\";\r\nimport tokenAbi from \"@/utils/abi\";\r\nimport web3Data from \"@/utils/initWeb3\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport { MaxUint256 } from \"@ethersproject/constants\";\r\nimport { useI18n } from \"vue-i18n\";\r\nexport default {\r\n  components: {\r\n    WalletContract\r\n  },\r\n  setup() {\r\n    const store = useStore();\r\n    const { t } = useI18n();\r\n    const route = useRoute();\r\n    const data = reactive({\r\n      BigNumber: BigNumber,\r\n      type: route.params.type,\r\n      name: route.params.name,\r\n      tokenAddress: route.params.token,\r\n      web3: computed(() => store.state.provider),\r\n      address: computed(() => store.state.accounts[0]),\r\n      LPStakeContract: null,\r\n      tokenContract: null,\r\n      LPInfo: {},\r\n      amount: \"\",\r\n      amounts: [0, 25, 50, 75, 100],\r\n      marks: {\r\n        0: \"0\",\r\n        25: \"25%\",\r\n        50: \"50%\",\r\n        75: \"75%\",\r\n        100: \"100%\"\r\n      },\r\n      loading: false,\r\n      remainAmount: computed(() => {\r\n        let remainAmount = \"0\";\r\n        if (data.LPInfo.balances) {\r\n          if (data.amount && new BigNumber(data.amount).gt(0)) {\r\n            remainAmount = new BigNumber(data.LPInfo.balances).gte(data.amount)\r\n              ? new BigNumber(data.LPInfo.balances)\r\n                  .minus(data.amount)\r\n                  .toFixed(6, 1)\r\n              : 0;\r\n          } else {\r\n            remainAmount = data.LPInfo.balances;\r\n          }\r\n        }\r\n        return remainAmount;\r\n      }),\r\n      initWallet: () => {\r\n        if (!data.address) {\r\n          web3Data.initWeb3();\r\n        }\r\n      },\r\n      initContract: () => {\r\n        data.LPStakeContract = new data.web3.eth.Contract(\r\n          LPStake,\r\n          config.LPStake\r\n        );\r\n        data.tokenContract = new data.web3.eth.Contract(\r\n          tokenAbi,\r\n          data.tokenAddress\r\n        );\r\n        data.initData();\r\n      },\r\n      initData: () => {\r\n        data.getInfo();\r\n      },\r\n      getInfo: async () => {\r\n        let decimals = await data.tokenContract.methods.decimals().call();\r\n        data.LPInfo.tokenDecimals = decimals;\r\n\r\n        let result = await data.LPStakeContract.methods\r\n          .userInfo(data.address, data.tokenAddress)\r\n          .call();\r\n        data.LPInfo.balances = new BigNumber(result.balances)\r\n          .dividedBy(Math.pow(10, data.LPInfo.tokenDecimals))\r\n          .toFixed(6, 1);\r\n\r\n        console.log(result);\r\n        console.log(data.LPInfo);\r\n      },\r\n      toWithdraw: () => {\r\n        if (!data.amount || new BigNumber(data.amount).lte(0)) {\r\n          ElMessage.error(t(\"請輸入質押數量\"));\r\n          return;\r\n        }\r\n        if (new BigNumber(data.amount).gt(data.LPInfo.balances)) {\r\n          ElMessage.error(t(\"數量不足\"));\r\n          return;\r\n        }\r\n        let amount = new BigNumber(data.amount)\r\n          .multipliedBy(Math.pow(10, data.LPInfo.tokenDecimals))\r\n          .toFixed();\r\n        data.loading = true;\r\n        console.log(data.tokenAddress, amount);\r\n        data.LPStakeContract.methods\r\n          .withdraw(data.tokenAddress, amount)\r\n          .estimateGas({ from: data.address })\r\n          .then(gas => {\r\n            console.log(\"gas\", gas);\r\n            data.LPStakeContract.methods\r\n              .withdraw(data.tokenAddress, amount)\r\n              .send({ from: data.address, gas: gas })\r\n              .then(() => {\r\n                data.loading = false;\r\n                data.initData();\r\n              })\r\n              .catch(() => {\r\n                data.loading = false;\r\n              });\r\n          })\r\n          .catch(err => {\r\n            data.loading = false;\r\n            console.log(err);\r\n          });\r\n      },\r\n      getSlider: () => {\r\n        data.amount = new BigNumber(data.LPInfo.balances)\r\n          .multipliedBy(data.amounts / 100)\r\n          .toFixed();\r\n      }\r\n    });\r\n    if (data.address) {\r\n      data.initContract();\r\n    }\r\n    watch(\r\n      () => data.address,\r\n      val => {\r\n        if (val) {\r\n          data.initContract();\r\n        }\r\n      }\r\n    );\r\n    const refData = toRefs(data);\r\n    return {\r\n      ...refData\r\n    };\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n.topbg-wrapper {\r\n  .el-slider__button {\r\n    background: #fff url(\"~@/assets/image/slidersact.png\") center center\r\n      no-repeat;\r\n    background-size: 19px 19px;\r\n    border: none;\r\n  }\r\n  .el-slider__stop {\r\n    background: none;\r\n    background: #fff url(\"~@/assets/image/sliders.png\") center center no-repeat;\r\n    background-size: 12px 13px;\r\n    width: 12px;\r\n    height: 13px;\r\n    vertical-align: middle;\r\n    margin-top: -3px;\r\n  }\r\n}\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n.nocenter {\r\n  align-items: flex-start;\r\n  margin-top: 40px;\r\n  margin-bottom: 40px;\r\n}\r\n.sliders {\r\n  margin-top: 10px;\r\n  padding-left: 10px;\r\n  padding-right: 20px;\r\n  line-height: 18px;\r\n}\r\n\r\n.address-list {\r\n  max-width: 1400px;\r\n  margin: 30px auto 80px;\r\n}\r\n.close {\r\n  background: none !important;\r\n  border: 1px solid #0956d0;\r\n  color: #0956d0;\r\n}\r\n.bottom-table {\r\n  background: #fff;\r\n  border-radius: 20px;\r\n  margin-top: 50px;\r\n  .table-box {\r\n    max-width: 1400px;\r\n    margin: 0 auto;\r\n  }\r\n}\r\n.flexs {\r\n  flex: 1;\r\n}\r\n.from-box {\r\n  padding: 35px 42px;\r\n  margin-bottom: 50px;\r\n}\r\n.el-slider__marks-text {\r\n}\r\n@media screen and (max-width: 480px) {\r\n  /deep/ .suffix-span {\r\n    padding: 0 6px 0 0 !important;\r\n    font-size: 15px !important;\r\n    margin-right: -6px;\r\n  }\r\n  /deep/ .from-box .el-input__inner {\r\n    // width: 150px !important;\r\n    font-size: 14px !important;\r\n    padding-right: 10px !important;\r\n    background: #eff2f7;\r\n    border: 0;\r\n  }\r\n  /deep/ .el-input-group__append,\r\n  .el-input-group__prepend {\r\n    padding: 0 7px 0 5px;\r\n  }\r\n  /deep/ .el-input__suffix {\r\n    transform: translate(1, 0) !important;\r\n  }\r\n  /deep/ .from-box .input-suffix .suffix-span {\r\n  }\r\n  /deep/ .from-box .input-suffix .input-label {\r\n    margin-right: 0;\r\n  }\r\n  /deep/ .from-box {\r\n    margin-top: -150px;\r\n  }\r\n  /deep/ .el-input--suffix .el-input__inner {\r\n    padding-right: 45px;\r\n  }\r\n  .from-box {\r\n    padding: 0 15px;\r\n  }\r\n  /deep/ .el-input-group__append,\r\n  .el-input-group__prepend {\r\n    background: #eff2f7;\r\n    border: 0;\r\n  }\r\n  /deep/ .el-input-group {\r\n    background: #eff2f7;\r\n    border-radius: 6px;\r\n  }\r\n  .nocenter {\r\n    align-items: flex-start;\r\n    margin-top: 0;\r\n    margin-bottom: 0;\r\n  }\r\n  .sliders {\r\n    margin: -15px 0 10px;\r\n  }\r\n  .topbg-wrapper {\r\n    /deep/ .el-slider__button {\r\n      background: #fff url(\"~@/assets/image/wap/phonesli.png\") center center\r\n        no-repeat;\r\n      background-size: 12px 12px;\r\n      border: none;\r\n      width: 12px;\r\n      height: 12px;\r\n    }\r\n    /deep/ .el-slider__stop {\r\n      background: none;\r\n      background: #fff url(\"~@/assets/image/wap/phones.png\") center center\r\n        no-repeat;\r\n      background-size: 9px 9px;\r\n      width: 8px;\r\n      height: 8px;\r\n      vertical-align: middle;\r\n      margin-top: -2.5px;\r\n    }\r\n    /deep/ .el-slider__runway {\r\n      -webkit-tap-highlight-color: transparent;\r\n      height: 2.5px;\r\n    }\r\n    /deep/ .el-slider__bar {\r\n      height: 2.5px;\r\n    }\r\n    /deep/ .el-slider__button-wrapper {\r\n      top: -17px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=72e1efb0&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=72e1efb0&lang=scss\"\nimport \"./index.vue?vue&type=style&index=1&id=72e1efb0&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\contract\\\\vue\\\\mafaai\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-72e1efb0\"]])\n\nexport default __exports__"],"sourceRoot":""}